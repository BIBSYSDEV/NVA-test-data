version: 0.2

env:
  parameter-store:
    AWS_COGNITO_IDENTITY_POOL_ID: REACT_APP_AWS_COGNITO_IDENTITY_POOL_ID
    AWS_USER_POOLS_ID: REACT_APP_AWS_USER_POOLS_ID
    AWS_USER_POOLS_WEB_CLIENT_ID: REACT_APP_AWS_USER_POOLS_WEB_CLIENT_ID
    REACT_APP_DOMAIN: REACT_APP_DOMAIN
    REACT_APP_API_URL: REACT_APP_API_URL
#  secrets-manager:
#    REACT_APP_ORCID_CLIENT_SECRET: REACT_APP_ORCID_CLIENT_SECRET
#  Values to be assigned outside of pipeline
# REACT_APP_AWS_REGION
# REACT_APP_USE_MOCK

phases:
  install:
    runtime-versions:
      python: 3.x
  pre-build:
    commands:
      - pip3 install boto3
      - pip3 install requests
  build:
    commands:
      - python3 create_test_data.py
